<div class="container p-2 mb-5">
  <div class="row text-center m-4">
    <div class="col-12 text-center">
      <a href="/clases/add"> <button class="btn btn-warning">NUEVA CLASE</button></a>
      <a href="/week/list"> <button class="btn btn-warning">GESTIONAR SEMANA</button></a>
    </div>
  </div>


  <div class="row text-center m-4">
    <div class="col-12 text-center">
      <h2>Calendario</h2>
      <div id="calendar" class="calendar">
        <div class="calendar-header">
          {{!-- Muestra el mes y el año actual --}}
          <button id="prevMonth" class="btn btn-light">&lt;</button>
          <span id="currentMonth">{{mes}} {{anio}}</span>
          <button id="nextMonth" class="btn btn-light">&gt;</button>
        </div>
        <div class="calendar-grid">
          {{!-- Días de la semana --}}
          <div class="calendar-day">Lunes</div>
          <div class="calendar-day">Martes</div>
          <div class="calendar-day">Miércoles</div>
          <div class="calendar-day">Jueves</div>
          <div class="calendar-day">Viernes</div>
          <div class="calendar-day">Sábado</div>
          <div class="calendar-day">Domingo</div>

          {{!-- Días del mes --}}
          {{#each dias}}
          <div class="calendar-cell" data-date="{{this.fullDate}}">
            {{this.day}}
          </div>
          {{/each}}
        </div>
      </div>


      <h3>Clases de la Semana</h3>
      <div id="clases-semana">

        {{!-- Aquí se renderizarán las clases dinámicamente --}}
        <div class="row text-center m-4">
          <div class="table-responsive">
            <table class="table table-dark table-bordered">
              <thead class="thead-light">
                <tr>
                  <th>Lunes</th>
                  <th>Martes</th>
                  <th>Miércoles</th>
                  <th>Jueves</th>
                  <th>Viernes</th>
                  <th>Sábado</th>
                  <th>Domingo</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  {{#each clases}}
                  <td>
                    {{#each this}}
                    <div class="card mb-2 dia{{getDay fecha_hora}}" >
                      <div class="card-body">
                        <h5 class="card-title">{{nombre_actividad}}</h5>
                        <p class="card-text">{{formatearHoras fecha_hora}}</p>
                        <p> {{duracion}}min</p>
                        <a href="/clases/edit/{{clase_id}}" class="text-warning"><i class="fa-solid fa-pen"></i>Edit</a>
                        <a href="/clases/delete/{{clase_id}}" class="text-warning"><i
                            class="fa-solid fa-trash"></i>Del</a>
                            <p>{{formatearSp fecha_hora}}</p>
                      </div>
                    </div>
                    {{else}}
                    <p>No hay clases</p>
                    {{/each}}
                  </td>
                  {{/each}}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>